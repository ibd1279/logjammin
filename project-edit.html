<?lc if request:has_attribute("_error") then ?><div class="error">${request:attribute("_error")}</div><?lc end ?>
<form method="POST" action="${request:original_request_file()}">
    <div>
        <label>Project Name
            <input name="name" value="${project:name()}" type="text" />
        </label>
    </div>
    <div>
        <label>RSS Feed
            <input name="commit_feed" value="${project:commit_feed()}" type="text" />
        </label>
    </div>
    <div>
        <label>Daily Hours
            <input name="daily_hours" value="${project:daily_hours()}" type="text" />
        </label>
    </div>
    <div>
        <label for="project-version">Versions</label>
        <input name="version" value="" type="text" id="project-version" class="tag-list" />
        <ul class="tag-list">
        <?lc for h, version in ipairs(project:versions()) do ?>
            <li><input name="version" value="${version}" type="text" /></li>
        <?lc end ?>
        </ul>
    </div>
    <div>
        <label for="project-category">Categories</label>
        <input name="category" value="" type="text" id="project-category" class="tag-list" />
        <ul class="tag-list">
        <?lc for h, category in ipairs(project:categories()) do ?>
            <li><input name="category" value="${category}" type="text"/></li>
        <?lc end ?>
        </ul>
    </div>
    <div>
        <label>Members
            <select name="members" multiple>
            <?lc for h, user in ipairs(users) do ?>
                <option value="${user:pkey()}"${project:has_member(user) and " selected" or ""}>${user:name()}</option>
            <?lc end ?>
            </select>
        </label>
    <div>
    <div>
        <input value="Save" type="submit" />
    </div>
</form>
<?lc if project:pkey() > 0 then ?><div>
    <a href="${project:pkey()}/project-purge">Delete</a>
</div><?lc end ?>
